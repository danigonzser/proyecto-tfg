\chapter{Análisis}

En este capítulo, se realizará una explicación breve de la metodología de trabajo seguida en el mismo y un análisis de requisitos. Posteriormente, se procederá al proceso de selección lenguajes que más tarde se empleará para empezar a diseñar los objetos de nuestro proyecto.

\section{Domain-Driven Design}

En este capítulo, se hará un análisis detallado de los requisitos del proyecto haciendo uso del Diseño Orientado al Dominio o \textit{domain-driven design} que para mayor rapidez y concisión denominaremos como \textit{DDD}. Esta filosofía de desarrollo de software nos ayudará a comprender y modelar el dominio empresarial, asegurando que nuestras soluciones se alineen con las necesidades específicas de los usuarios y del negocio.

El Diseño Orientado al Dominio (DDD) es una filosofía de desarrollo de software que se centra en comprender y modelar el dominio empresarial para alinear el software con las necesidades del negocio. Introducido por Eric Evans en su libro~\cite{evans2004domain}, DDD ha evolucionado con aportes de numerosos profesionales.

En esencia, \textit{DDD} aborda la complejidad enfocándose en el ``dominio'', el contexto específico del software. Promueve el uso de un ``lenguaje ubicuo'', un lenguaje común entre desarrolladores y partes interesadas, para garantizar que el software refleje con precisión el ámbito empresarial. La modelización en \textit{DDD} no busca crear el modelo más realista, sino uno útil y apropiado para su propósito, similar a cómo una película representa la realidad de manera selectiva para cumplir su objetivo.

Hemos elegido \textit{DDD} porque proporciona una estructura clara y coherente para manejar la complejidad del dominio del proyecto, asegurando que las soluciones técnicas se alineen estrechamente con las necesidades del negocio y los usuarios. Esta metodología nos permitirá identificar y definir las entidades principales que se necesitan para satisfacer los requisitos del sistema, facilitando la comunicación y la comprensión entre todas las partes involucradas.

Hoy en día, DDD sigue siendo ampliamente utilizado en diversos proyectos, con numerosos casos de éxito en la industria que demuestran su eficacia, como se detalla en esta \href{https://blog.bitsrc.io/demystifying-domain-driven-design-ddd-in-modern-software-architecture-b57e27c210f7}{publicación}. Empresas como Netflix, Uber y Airbnb han adoptado DDD con notable éxito.

\subsection{Enfoque Ágil y DDD}

Es importante destacar que el diseño impulsado por el dominio (Domain-Driven Design, DDD) en~\cite{evans2004domain} no abandona la filosofía ágil. Aunque este libro no está vinculado a una metodología en particular, se orienta hacia la nueva familia de ``procesos de desarrollo ágil''. Específicamente, asume que se emplean dos prácticas en el proyecto, las cuales son prerrequisitos para aplicar el enfoque presentado en este libro.

\begin{itemize}
    \item \textbf{El desarrollo es iterativo.}
    \item \textbf{Relación estrecha entre quiénes conocen el dominio y quiénes saben cómo construir \textit{software}.}
\end{itemize}

\section{Análisis de requisitos}

Los requisitos han sido identificados a partir de las historias de usuario~\ref{sec:historias_de_usuario} anteriormente definidas y los usuarios identificados en~\ref{sec:usuarios_identificados}. Estos requisitos son los que llamamos los requisitos básicos o esenciales a partir de los cuales se desarrollará el diseño.

\begin{itemize}
    \item \textbf{Se debe proporcionar un editor de memes.}
    \begin{itemize}
        \item[-] Historias de usuario requeridas: HU01, HU04 y HU02.
    \end{itemize}
    \item \textbf{Se debe proporcionar un catálogo de memes predefinidos.}
    \begin{itemize}
        \item[-] Historias de usuario requeridas: HU01, HU02 y HU03.
    \end{itemize}
    \item \textbf{La solución debe poder permitir colaboración en la creación de memes.}
    \begin{itemize}
        \item[-] Historias de usuario requeridas: HU04.
    \end{itemize}
    \item \textbf{Se debe proporcionar un sistema de búsqueda avanzada de memes.}
    \begin{itemize}
        \item[-] Historias de usuario requeridas: HU03.
    \end{itemize} 
\end{itemize}

\section{Análisis de las posibles soluciones}

En este apartado, se analizarán las posibles soluciones para el desarrollo de la aplicación.

\subsection{Desarrollo de una \href{https://apps.nextcloud.com/}{aplicación} para \href{https://nextcloud.com/es/}{\textit{Nextcloud}}}

\textit{Nextcloud} es una plataforma de software libre que permite a los usuarios almacenar y sincronizar archivos, contactos, calendarios y más. Es una excelente opción para el desarrollo de nuestra aplicación, ya que proporciona una base sólida y una amplia gama de funcionalidades que pueden ser aprovechadas para implementar la funcionalidad de creación y gestión de memes. Para el desarrollo de una app en el ecosistema de \textit{Nextcloud}, se utiliza PHP y Vuejs. Además, \textit{Nextcloud} proporciona una API robusta que permite a los desarrolladores acceder a las funcionalidades del sistema.

Esta solución tiene varios problemas para el usuario o cliente final: 

\begin{itemize}
    \item \textbf{Complejidad de la instalación:} La instalación de \textit{Nextcloud} puede ser complicada para los usuarios no técnicos. Por ejemplo para Ted Johnson González (experto conferenciante) que no tienen experiencia ni conocimientos técnicos podría ser un problema.
    \item \textbf{Consumo de recursos:} \textit{Nextcloud} es una aplicación bastante exigente en términos de recursos, especialmente si se gestiona una gran cantidad de datos o usuarios como podría ser el caso del departamento de marketing de Corporate Solutions. Desarrollando nuestra propia aplicación, podemos optimizar los recursos para que los requisitos sean mínimos.
\end{itemize}

Por otro lado, la implementación de base de funcionalidades como la sincronización en local y en remoto, el almacenamiento y la búsqueda de archivos y la gestión de usuarios no justifica el tiempo que se va a dedicar a adaptarse al \href{https://nextcloud.com/developer/}{entorno de desarrollo} que proporciona Nextcloud para desarrollar apps, ya que estas funcionalidades se pueden aplicar mediante la implementación de repositorios o desde cero con un coste de tiempo y recursos mucho menor. 

\subsection{Desarrollo de una app móvil}

Otra posible solución sería el desarrollo de una aplicación móvil que permita a los usuarios crear y gestionar memes desde sus dispositivos móviles. Esta solución tiene varias ventajas, como la facilidad de uso y la accesibilidad, ya que los usuarios pueden elaborar memes en cualquier momento y lugar. Podría ser de bastante utilidad para todos y cada uno de los usuarios identificados.

Sin embargo, esta solución también tiene sus inconvenientes. Por ejemplo, el desarrollo de aplicaciones móviles limita bastante la audiencia a la que se puede llegar, puesto que no todos los usuarios tienen un dispositivo móvil o prefieren utilizar un ordenador. La idea de este proyecto es justamente el poder llegar a un público amplio y diverso, por lo que esta solución no sería la más adecuada.

\subsection{Desarrollo de una aplicación de escritorio}

En esta solución que se ha considerado es el desarrollo de una aplicación de escritorio que permita a los usuarios generar y gestionar memes desde sus ordenadores. Esta solución tiene varias ventajas como la facilidad que va a tener el usuario final para adaptarse a este tipo de entorno, pues es donde se realizan este tipo de tareas para que la edición pueda llegar a ser más compleja.

De nuevo, esta solución limita bastante la audiencia a la que se puede llegar, ya que no todos los usuarios tienen un ordenador o prefieren un dispositivo móvil (la cual es la mayoría actual).

\subsection{Desarrollo de una aplicación web}

El desarrollo de una aplicación web tiene lo bueno de las dos soluciones anteriores. Permite al usuario conectarse desde cualquier dispositivo sea PC o móvil. El desarrollo web es el más popular en la actualidad por lo que es bastante fácil encontrar comunidades, preguntas, documentación, artículos, etc.

La idea detrás de esta solución reside en una aplicación web que sea igualmente accesible desde cualquier dispositivo con conexión y un navegador adecuado. Una vez accedes a la plataforma web, puedes crear, editar, almacenar, compartir y buscar memes. La forma de almacenar los memes podría llegar a hacerse en local o en remoto.

\section{Selección de lenguajes de programación o tecnologías}

El proyecto se va a desarrollar como una aplicación web teniendo esta usualmente una parte del cliente o frontend, una parte del servidor, api o backend y una parte de persistencia o base de datos. La elección de la tecnología en sendas partes es crucial a la hora de la experiencia de desarrollo, compatibilidad, escalabilidad, mantenimiento, etc.

\subsection{Cliente o frontend}

Esta parte del proyecto es la encargada con la interacción directa con el usuario y debe ser lo más amigable, rápida, intuitiva y accesible posible. Los frameworks de frontend son herramientas esenciales para los desarrolladores web, ya que proporcionan módulos de código reutilizables, tecnologías estandarizadas y bloques de interfaz prefabricados. Estos elementos simplifican el desarrollo de aplicaciones e interfaces de usuario, eliminando la necesidad de codificar cada función u objeto desde cero.

En la actualidad, los frameworks inicialmente de frontend se han convertido en herramientas completas para el desarrollo de aplicaciones web o \textit{full stack web frameworks}. Algunos de los más populares son \textit{\href{https://es.react.dev/}{React}}, \textit{\href{https://angular.dev/}{Angular}}, \textit{\href{https://vuejs.org/}{Vue.js}}, \textit{\href{https://astro.build/}{Astro}} y textit{\href{https://nextjs.org/}{Next.js}}, siendo esta la alternativa que más está dando qué hablar recientemente. Cada uno de ellos tiene sus propias características, ventajas y desventajas, por lo que es importante evaluarlos cuidadosamente antes de tomar una decisión.

\subsection{Criterios de búsqueda}

Dado que el proyecto es una aplicación web multiplataforma, se necesita un framework rápido y eficiente que permita reactividad, escalabilidad y mantenimiento. Los criterios de búsqueda para la selección son los siguientes:

\begin{itemize}
    \item Reactividad: Debe ser reactivo y permitir la actualización de la interfaz de usuario en tiempo real.
    \item Modularización: Debe ser modular y permitir la reutilización de componentes para facilitar el desarrollo.
\end{itemize}

\subsection{Criterios de selección}

Una vez que se hayan encontrado posibles soluciones que cumplan con los criterios de búsqueda, se evaluará de acuerdo a los siguientes criterios de selección:

\begin{itemize}
    \item Escalabilidad: escalable y permitir la adición de nuevas funcionalidades y componentes.
    \item Mantenimiento: fácil de mantener y actualizar.
    \item Rendimiento: rápido y eficiente.
    \item Comunidad: debe tener una comunidad activa y un ecosistema de desarrollo sólido. Además de librerías y plugins que faciliten el desarrollo.
    \item Documentación: documentación clara y completa.
\end{itemize}

\subsection{Soluciones encontradas}

Una vez hayamos encontrado posibles soluciones que cumplan con los criterios de búsqueda, se evaluarán de acuerdo a los criterios de selección. A continuación, se presentan las soluciones encontradas:

\subsubsection{React}

\textit{React} es una biblioteca de JavaScript de código abierto para construir interfaces de usuario o componentes de la interfaz de usuario, desarrollada por Facebook y lanzada en 2013. Es una de las bibliotecas más populares y ampliamente utilizadas en la actualidad. React está diseñada para ayudar a los desarrolladores a crear aplicaciones con datos dinámicos, siendo simple, declarativa y fácil de integrar. Se centra exclusivamente en la interfaz de usuario, actuando como la Vista en los patrones de diseño. Además, puede integrarse con extensiones basadas en React que gestionan las partes no relacionadas con la interfaz de usuario de una aplicación web~\cite{react-wikipedia}. 

Esta librería cumple todos los criterios de selección por lo que por ahora, se convierte en la mejor opción para el desarrollo de la parte del cliente. Lo único en lo que podríamos ver un inconveniente es en que no es un framework completo, sino una librería, por lo que se necesitará de otras librerías para completar la aplicación, de aquí pueden surgir varios problemas como dependencias no actualizadas, incompatibilidades, falta de optimización, se añade peso a la aplicación, etc. Además, cuando se trata de aplicaciones grandes, React puede ser un poco más complicado de manejar que otros.

\begin{itemize}
    \item[\bien] Escalabilidad: el manejo de estados puede llegar a ser algo bastante complejo.
    \item[\regular] Mantenimiento: el actualizar podría llegar a ser un problema ya que deberíamos de actualizar todas las dependencias.
    \item[\regular] Rendimiento: rápido y eficiente aunque de igual manera, puede ralentizarse en aplicaciones grandes y con librerías añadidas que no estén optimizadas.
    \item[\esp] Comunidad: una de las comunidades más grandes y activas.
    \item[\bien] Documentación: documentación clara y completa.
\end{itemize}

\subsubsection{Angular}

\textit{Angular} es un framework de código abierto desarrollado por Google para crear aplicaciones web de una sola página (SPA) y aplicaciones web dinámicas desarrollado en TypeScript. Angular es una reescritura completa de AngularJS, que se lanzó en 2010. Angular se centra en la creación de aplicaciones web de una sola página basándose en clases tipo componentes (como React) y proporciona una estructura para el desarrollo de aplicaciones web complejas. Angular es un framework completo que proporciona una amplia gama de funcionalidades y herramientas para el desarrollo de aplicaciones web, incluyendo enrutamiento, inyección de dependencias, pruebas unitarias y más~\cite{angular-wikipedia}.

Una cosa a tener en cuenta y en la que se diferencia, por ejemplo de React, es en que es un framework completo y no una librería por lo que aunque no implemente mucha funcionalidad, de base, tiene un consumo de recursos más alto.

\begin{itemize}
    \item[\regular] Escalabilidad: complejo desde el principio. Está pensado para manejar una gran cantidad de datos desde el inicio.
    \item[\bien] Mantenimiento: tiene un comando para actualizar aunque no siempre es tan sencillo.
    \item[\regular] Rendimiento: como se ha mencionado, de base, es más lento al ser un framework completo.
    \item[\regular] Comunidad: la comunidad es bastante activa aunque no tan grande como la de React.
    \item[\regular] Documentación: documentación bastante clara aunque escasa, ya que hace poco se ha lanzado una nueva versión.
\end{itemize}

La curva de aprendizaje es mucho más pronunciada que la de React si no se tiene experiencia previa. Al ser una herramienta tan compleja y con tantas características implementadas de base, puede llegar a ser complicada de dominar. 

\subsubsection{Vue.js}

Vue.js es un framework de JavaScript de código abierto para la construcción de interfaces de usuario y aplicaciones de una sola página. Fue creado por Evan You en 2014. Vue.js es un framework progresivo que proporciona una estructura para el desarrollo de aplicaciones web interactivas y dinámicas. Vue.js es conocido por su simplicidad y facilidad de uso, lo que lo convierte en una excelente opción para los desarrolladores que buscan una alternativa a React y Angular. Vue.js se centra en la creación de componentes reutilizables y proporciona una amplia gama de funcionalidades y herramientas para el desarrollo de aplicaciones web~\cite{vuejs-wikipedia}.

Si es verdad que no fue creado por una gran empresa como Facebook o Google, pero eso no significa que sea peor. De hecho, Vue.js es una de las mejores opciones para el desarrollo de aplicaciones web. Existen varios casos de éxito en la industria demuestran su eficacia como GitLab, Adobe, Behance, etc.

\begin{itemize}
    \item[\bien] Escalabilidad: de nuevo, igual que React, el manejo de estados más complejos puede llegar a necesitar una librería externa.
    \item[\bien] Mantenimiento: fácil de mantener, no salen muchas actualizaciones.
    \item[\bien] Rendimiento: al ser ligero es bastante rápido y eficiente.
    \item[\mal] Comunidad: la comunidad es bastante escasa, ya que es una tecnología aún emergente.
    \item[\mal] Documentación: no hay mucha documentación y no hay muchos problemas resueltos por la escasez de la comunidad.
\end{itemize}

El principal problema de Vue.js es la falta de una comunidad grande y activa, siempre va por detrás de los demás frameworks en cuanto a funcionalidad y resolución de vulnerabilidades y problemas. Además, tiene problemas a la hora del soporte móvil.

\subsubsection{Astro}

Astro es un nuevo framework de aplicaciones web de código libre que permite a los desarrolladores crear sitios web rápidos y eficientes. Fue creado por Fred K. Schott y posteriormente lanzado en 2022. Astro se centra en la creación de sitios web estáticos y dinámicos, proporcionando una estructura para el desarrollo de aplicaciones web modernas. Astro es conocido por su simplicidad y facilidad de uso~\cite{astro-wikipedia}.

Astro es una de las mejores opciones para el desarrollo de aplicaciones web modernas. Es una tecnología emergente que ha ganado popularidad en los últimos años. Es conocido principalmente porque de forma predeterminada no añade código JavaScript a menos que sea necesario. Otra de sus características más conocida es que es agnóstico a la interfaz de usuario por lo que es compatible con React, Preact, Svelte, Vue, etc. Por último, debido a que el lenguaje de la interfaz de usuario es un superconjunto de HTML (\textit{.astro}), la experiencia de desarrollo es bastante familiar y asequible.

\begin{itemize}
    \item[\bien] Escalabilidad: al estar centrado en el contenido y ser específico para construir sitios estáticos, la escalabilidad es uno de sus fuertes.
    \item[\bien] Mantenimiento: por cada versión principal se elabora una guía de actualización.
    \item[\esp] Rendimiento: al no añadir código JavaScript a menos que sea necesario, el rendimiento es bastante bueno.
    \item[\regular] Comunidad: aunque la comunidad es muy joven y pequeña, el hecho de que haya explotado en cuanto a popularidad ha propulsado la misma a un ritmo bastante rápido.
    \item[\regular] Documentación: la documentación es bastante clara y completa aunque no hay muchos problemas resueltos por la escasez de la comunidad.
\end{itemize}

Uno de los principales problemas de Astro es que es una tecnología muy orientada al contenido estático como blogs, foros, etc. Además, Astro requiere que la página se recargue para cada cambio de ruta, lo que puede ser un problema en aplicaciones web modernas.

\subsubsection{Next.js}

Next.js es un marco web de desarrollo frontend de React de código abierto creado por Vercel y Guillermo Rauch en 2016 que permite a los desarrolladores la renderización del lado del servidor y la generación de sitios web estáticos. Next.js es una de las mejores opciones para el desarrollo de aplicaciones web modernas. Es uno de los frameworks más populares y ampliamente utilizados en la actualidad~\cite{nextjs-wikipedia}.

Una de las mejores características que posee Next.js es su soporte para el SEO que es esencial si quieres que tu aplicación sea indexada por los motores de búsqueda. Al igual que Astro, tiene soporte SSR, pero no lo hace de forma predeterminada. Por último, tiene integradas las rutas dinámicas, la pre-generación de páginas y la exportación estática. Estas funcionalidades son muy importantes a la hora de la construcción de aplicaciones web. Los casos de éxito son numerosos como TikTok, Notion, ChatGPT, Spotify, etc.

\begin{itemize}
    \item[\bien] Escalabilidad: puede llegar a ser un problema para proyectos grandes.
    \item[\mal] Mantenimiento: altos costes de desarrollo y mantenimiento.
    \item[\regular] Rendimiento: el SSR se implementó para subsanar los problemas de rendimiento.
    \item[\esp] Comunidad: al ser uno de los frameworks más utilizados, la comunidad es bastante grande y activa.
    \item[\bien] Documentación: la documentación es bastante extensa e incluye tutoriales de inicio.
\end{itemize}

El principal problema de Next.js es que es un framework bastante completo que tiene implementadas muchas características por lo que los costes de desarrollo y mantenimiento son bastantes altos. Además, no tiene un gestor de estados integrado y falta facilidad a la hora de la integración de plugins.